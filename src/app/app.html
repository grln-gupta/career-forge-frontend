<div class="app-container">
  <aside class="sidebar" [class.mobile-open]="isMobileMenuOpen">
    <div class="sidebar-header">
      <div class="brand">
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16 2L6 14H14L10 28L26 12H16L22 2Z"
            fill="#0ea5e9"
            stroke="#0ea5e9"
            stroke-width="2"
            stroke-linejoin="round"
          />
        </svg>
        <span>CareerForge<span class="ai-tag">.ai</span></span>
      </div>
      <button class="hamburger-btn" (click)="toggleMobileMenu()">
        {{ isMobileMenuOpen ? 'âœ•' : 'â˜°' }}
      </button>
    </div>

    <nav [class.show]="isMobileMenuOpen">
      <button
        class="nav-item"
        [class.active]="selectedMode === 'resume'"
        (click)="setMode('resume')"
      >
        ğŸ“„ Resume ATS Fixer
      </button>
      <button
        class="nav-item"
        [class.active]="selectedMode === 'linkedin'"
        (click)="setMode('linkedin')"
      >
        ğŸš€ LinkedIn Viral Post
      </button>
      <button
        class="nav-item"
        [class.active]="selectedMode === 'portfolio'"
        (click)="setMode('portfolio')"
      >
        ğŸ’¼ Case Study Builder
      </button>
    </nav>
  </aside>

  <main class="main-content">
    <header>
      <h1>{{ getTitle() }}</h1>
      <p>{{ getSubtitle() }}</p>
    </header>

    <div class="workspace-grid">
      <div class="input-panel">
        <div class="form-group">
          <label>TARGET ROLE / PROFESSION <span class="required">*</span></label>
          <input [(ngModel)]="targetRole" placeholder="e.g. Senior Angular Developer" />
        </div>

        <div class="form-group">
          <label>YOUR DRAFT / RAW NOTES <span class="required">*</span></label>
          <textarea
            [(ngModel)]="inputText"
            rows="12"
            placeholder="Paste your rough notes here..."
          ></textarea>
        </div>
        <button class="optimize-btn" (click)="runOptimization()" [disabled]="isLoading">
          <div class="btn-content">
            <ng-container *ngIf="isLoading">
              <div class="spinner-sm"></div>
              <span class="loading-text">CRAFTING...</span>
            </ng-container>

            <ng-container *ngIf="!isLoading">
              <span class="btn-icon">âœ¨</span>
              <span>OPTIMIZE CONTENT</span>
            </ng-container>
          </div>
        </button>
      </div>

      <div class="result-container">
        <div *ngIf="!isLoading && !optimizedResult" class="placeholder-state">
          <div class="icon-placeholder">ğŸª„</div>
          <p>Your optimized content will appear here...</p>
        </div>

        <div *ngIf="isLoading" class="loader-container">
          <div class="spinner"></div>
          <p>AI is crafting your response...</p>
        </div>

        <div *ngIf="!isLoading && optimizedResult" class="result-content">
          <div class="optimized-text">{{ optimizedResult }}</div>
          <div class="actions">
            <button (click)="copyToClipboard()">ğŸ“‹ Copy</button>
            <button (click)="exportToPdf()">ğŸ“„ PDF</button>
            <button (click)="exportToDocx()">ğŸ“ DOCX</button>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
